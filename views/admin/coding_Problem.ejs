<% include ../partial/header%>
<!-- Content -->

<script type="text/javascript">
    $("#user").addClass("active");
</script>

<div class="page-content">

    <!-- Breadcrumb row -->
    <div class="breadcrumb-row">
        <div class="container">
            <ul class="list-inline">
                <li><a href="#">Home</a></li>
                <li>Problems</li>
            </ul>
        </div>
    </div>


    <!-- Breadcrumb row END -->
    <div class="content-area">
        <div class="container">
            <div class="row">


                <ul id="masonry" class="w3-gallery-listing gallery-grid-4 gallery mfp-gallery w3-courses">
                    <% problems.forEach(function(problem){%>
                    <li data-filter="facilities" class="card-container col-lg-3 col-md-3 col-sm-4 col-xs-6">
                        <div class="w3-box w3-gallery-box" style="box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);">
                            <div class="w3-media w3-img-overlay2 w3-img-effect zoom"> <img src="" style="width: 230px;height: 167px;" alt="">
                                <div class="w3-info-has p-a20  no-hover">
                                    <a href="javascript:void(0)"><%=problem.number %> . <%=problem.title %>  </a>

                                </div>
                            </div>
                        </div>
                    </li>
                    <%})%>
                </ul>



                <div class="w3-divider bg-gray-dark"><br></div>

                <!-- New Problem -->
                <div class="col-sm-10 col-sm-offset-1">
                    <form class="p-a30 w3-form text-center text-center"action="" method="POST">
                        <h4>Create A New Problem</h4>
                        <div class="panel panel-default">
                            <div class="panel-body form-horizontal payment-form">

                                <div class="form-group">
                                    <label for="concept" class="col-sm-3 control-label">Problem Number</label>
                                    <div class="col-sm-8">
                                        <input id="number" type="text" class="form-control"  name="number" required>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="concept" class="col-sm-3 control-label">Problem Name</label>
                                    <div class="col-sm-8">
                                        <input id="title" type="text" class="form-control"  name="name" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="description" class="col-sm-3 control-label">Category</label>
                                    <div class="col-sm-8">
                                        <input id="cat" type="text" class="form-control" name="category" required>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="description" class="col-sm-3 control-label">Difficulty</label>
                                    <div class="col-sm-8">
                                        <input id="diffc" type="text" class="form-control" name="difficulty" required>
                                    </div>
                                </div>


                                <div class="form-group">
                                    <label for="description" class="col-sm-3 control-label">Problem Description</label>
                                    <div class="col-sm-8">
                                        <textarea id="des" rows="10" cols="30" class="form-control" name="problem_description" placeholder="Please input the problem description"></textarea>
                                    </div>
                                </div>


                                <!--
                                <div class="form-group">
                                    <label for="description" class="col-sm-3 control-label">Hint</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" name="hint">
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="description" class="col-sm-3 control-label">Example</label>
                                    <div class="col-sm-8">
                                        <textarea rows="10" cols="30" class="form-control" name="example"></textarea>
                                    </div>
                                </div>
   -->


                                <div class="form-group">
                                    <label for="description" class="col-sm-3 control-label">Function Head</label>
                                    <div class="col-sm-8">

                                        <div id="editor" style="height:300px">


                                        </div>


                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="description" class="col-sm-3 control-label">Function Foot</label>
                                    <div class="col-sm-8">

                                        <div id="editor2" style="height:400px">



                                        </div>


                                    </div>
                                </div>




                                <!--

                                <div class="form-group">
                                    <label for="description" class="col-sm-3 control-label">Test Cases</label>
                                    <div class="col-sm-8">
                                        <textarea rows="10" cols="30" class="form-control" name="test_cases" placeholder="Please seperate different test cases with '||'"required ></textarea>
                                    </div>
                                </div>




                                <div class="form-group">
                                    <label for="description" class="col-sm-3 control-label">Anwsers</label>
                                    <div class="col-sm-8">
                                        <textarea rows="10" cols="30" class="form-control" name="anwsers" placeholder="Please seperate anwsers for different test cases with '||'" required ></textarea>
                                    </div>
                                </div>




                                <div class="col-xs-12">
                                    <hr style="border:1px dashed #dddddd;">
                                    <button id="create" type="submit" class="btn btn-success btn-block">Create</button>
                                </div>   -->


                                <button id="create" class="site-button orange radius-xl  m-r15" type="button">Create</button>



                            </div>
                        </div>
                    </form>
                </div> <!-- / New Course-->




            </div>
        </div>
    </div>
</div>
<!-- Content END-->
<!-- JavaScript  files ========================================= -->


<!-- JavaScript  files ========================================= -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.9/ace.js" type="text/javascript" charset="utf-8"></script>

<script>


    var editor = ace.edit("editor");
    editor.setTheme("ace/theme/monokai");
    editor.setFontSize(14);
    editor.session.setMode("ace/mode/python");
    editor.setValue("");


</script>

<script>


    var editor2 = ace.edit("editor2");
    editor2.setTheme("ace/theme/monokai");
    editor2.setFontSize(14);
    editor2.session.setMode("ace/mode/python");
    editor2.setValue("");


</script>


<script>

    $('#create').on('click', function() {
        var codeHead = editor.getValue() ;
        var codeFoot = editor2.getValue();

        var number = $('#number').val();
        var title = $('#title').val();
        var cat = $('#cat').val();
        var diffc = $('#diffc').val();
        var des = $('#des').val();

        console.log(codeHead);
        console.log(codeFoot);

        var json = {
            code1: codeHead,
            code2: codeFoot,
            number: number,
            title:title,
            cat:cat,
            diffc:diffc,
            des:des

        };

        console.log(json);

        $.post("/admin/newProblem", json, function(data, error, xhr) {



        });

    });

</script>


<% include ../partial/footer%>